import{i as $,j as v,l as xe,n as ge,r as K}from"./chunk-Q4G5UL72.js";function _(r,t,n){let i={};for(let e of r.orbits){let o=t[e.orbitName],s=n[e.orbitName];if(B(e.numOrientations,s))i[e.orbitName]=o;else if(B(e.numOrientations,o))i[e.orbitName]=s;else{let a=new Array(e.numPieces);if(e.numOrientations===1){for(let m=0;m<e.numPieces;m++)a[m]=o.permutation[s.permutation[m]];i[e.orbitName]={permutation:a,orientationDelta:o.orientationDelta}}else{let m=new Array(e.numPieces);for(let u=0;u<e.numPieces;u++)m[u]=(o.orientationDelta[s.permutation[u]]+s.orientationDelta[u])%e.numOrientations,a[u]=o.permutation[s.permutation[u]];i[e.orbitName]={permutation:a,orientationDelta:m}}}}return i}function J(r,t,n){let i={};for(let e of r.orbits){let o=t[e.orbitName],s=n[e.orbitName];if(B(e.numOrientations,s))i[e.orbitName]=o;else{let a=new Array(e.numPieces);if(e.numOrientations===1){for(let u=0;u<e.numPieces;u++)a[u]=o.pieces[s.permutation[u]];let m={pieces:a,orientation:o.orientation};i[e.orbitName]=m}else{let m=new Array(e.numPieces),u=o.orientationMod?new Array(e.numPieces):void 0;for(let f=0;f<e.numPieces;f++){let l=s.permutation[f],S=e.numOrientations;if(o.orientationMod){let p=o.orientationMod[l];u[f]=p,S=p||e.numOrientations}m[f]=(o.orientation[l]+s.orientationDelta[f])%S,a[f]=o.pieces[l]}let z={pieces:a,orientation:m};u&&(z.orientationMod=u),i[e.orbitName]=z}}}return i}function B(r,t){t.permutation||console.log(t);let{permutation:n}=t,i=n.length;for(let e=0;e<i;e++)if(n[e]!==e)return!1;if(r>1){let{orientationDelta:e}=t;for(let o=0;o<i;o++)if(e[o]!==0)return!1}return!0}function Qe(r,t,n,i={}){for(let e=0;e<r.numPieces;e++)if(!i?.ignorePieceOrientations&&t.orientationDelta[e]!==n.orientationDelta[e]||!i?.ignorePiecePermutation&&t.permutation[e]!==n.permutation[e])return!1;return!0}function de(r,t,n){for(let i of r.definition.orbits)if(!Qe(i,t[i.orbitName],n[i.orbitName]))return!1;return!0}function He(r,t,n,i={}){for(let e=0;e<r.numPieces;e++)if(!i?.ignorePieceOrientations&&(t.orientation[e]!==n.orientation[e]||t.orientationMod?.[e]!==n.orientationMod?.[e])||!i?.ignorePieceIndices&&t.pieces[e]!==n.pieces[e])return!1;return!0}function Pe(r,t,n){for(let i of r.definition.orbits)if(!He(i,t[i.orbitName],n[i.orbitName]))return!1;return!0}function ee(r,t){let n={};for(let i of r.definition.orbits){let e=t[i.orbitName];if(B(i.numOrientations,e))n[i.orbitName]=e;else if(i.numOrientations===1){let o=new Array(i.numPieces);for(let s=0;s<i.numPieces;s++)o[e.permutation[s]]=s;n[i.orbitName]={permutation:o,orientationDelta:e.orientationDelta}}else{let o=new Array(i.numPieces),s=new Array(i.numPieces);for(let a=0;a<i.numPieces;a++){let m=e.permutation[a];o[m]=a,s[m]=(i.numOrientations-e.orientationDelta[a]+i.numOrientations)%i.numOrientations}n[i.orbitName]={permutation:o,orientationDelta:s}}}return n}function I(r,t,n){if(n===1)return t;if(n<0)return I(r,ee(r,t),-n);if(n===0){let{transformationData:o}=r.identityTransformation();return o}let i=t;n!==2&&(i=I(r,t,Math.floor(n/2)));let e=_(r.definition,i,i);return n%2===0?e:_(r.definition,t,e)}var Q=class extends xe{traverseAlg(t,n){let i=null;for(let e of t.childAlgNodes())i?i=i.applyTransformation(this.traverseAlgNode(e,n)):i=this.traverseAlgNode(e,n);return i??n.identityTransformation()}traverseGrouping(t,n){let i=this.traverseAlg(t.alg,n);return new k(n,I(n,i.transformationData,t.amount))}traverseMove(t,n){return n.moveToTransformation(t)}traverseCommutator(t,n){let i=this.traverseAlg(t.A,n),e=this.traverseAlg(t.B,n);return i.applyTransformation(e).applyTransformation(i.invert()).applyTransformation(e.invert())}traverseConjugate(t,n){let i=this.traverseAlg(t.A,n),e=this.traverseAlg(t.B,n);return i.applyTransformation(e).applyTransformation(i.invert())}traversePause(t,n){return n.identityTransformation()}traverseNewline(t,n){return n.identityTransformation()}traverseLineComment(t,n){return n.identityTransformation()}},Se=ge(Q);function H(r,t){return t?H(t,r%t):r}function De(r,t){let n=1;for(let i of r.orbits){let e=t.transformationData[i.orbitName],o=new Array(i.numPieces);for(let s=0;s<i.numPieces;s++)if(!o[s]){let a=s,m=0,u=0;for(;o[a]=!0,m=m+e.orientationDelta[a],u=u+1,a=e.permutation[a],a!==s;);m!==0&&(u=u*i.numOrientations/H(i.numOrientations,Math.abs(m))),n=n*u/H(n,u)}}return n}var ye=!1,ke=new Map;function et(r){let t=ke.get(r);if(t)return t;let n=new Array(r),i=new Array(r);for(let o=0;o<r;o++)n[o]=o,i[o]=0;let e={permutation:n,orientationDelta:i};return ye&&(Object.freeze(n),Object.freeze(i),Object.freeze(e)),ke.set(r,e),e}function be(r){let t={};for(let n of r.orbits)t[n.orbitName]=et(n.numPieces);return ye&&Object.freeze(t),t}function ve(r,t){function n(e,o){let s=e.toString(),a=r.definition.moves[s];if(a)return I(r,a,o);let m=r.definition.derivedMoves?.[s];if(m)return I(r,r.algToTransformation(m).transformationData,o)}let i=n(t.quantum,t.amount)??n(t,1)??n(t.invert,-1);if(i)return i;throw new Error(`Invalid move for KPuzzle (${r.name()}): ${t}`)}var E=class r{constructor(t,n){this.kpuzzle=t;this.patternData=n}toJSON(){return{experimentalPuzzleName:this.kpuzzle.name(),patternData:this.patternData}}static fromTransformation(t){let n=J(t.kpuzzle.definition,t.kpuzzle.definition.defaultPattern,t.transformationData);return new r(t.kpuzzle,n)}apply(t){return this.applyTransformation(this.kpuzzle.toTransformation(t))}applyTransformation(t){if(t.isIdentityTransformation())return new r(this.kpuzzle,this.patternData);let n=J(this.kpuzzle.definition,this.patternData,t.transformationData);return new r(this.kpuzzle,n)}applyMove(t){return this.applyTransformation(this.kpuzzle.moveToTransformation(t))}applyAlg(t){return this.applyTransformation(this.kpuzzle.algToTransformation(t))}isIdentical(t){return Pe(this.kpuzzle,this.patternData,t.patternData)}experimentalToTransformation(){if(!this.kpuzzle.canConvertDefaultPatternToUniqueTransformation())return null;let t={};for(let[n,i]of Object.entries(this.patternData)){let e={permutation:i.pieces,orientationDelta:i.orientation};t[n]=e}return new k(this.kpuzzle,t)}experimentalIsSolved(t){if(!this.kpuzzle.definition.experimentalIsPatternSolved)throw new Error("`KPattern.experimentalIsPatternSolved()` is not supported for this puzzle at the moment.");return this.kpuzzle.definition.experimentalIsPatternSolved(this,t)}};var k=class r{constructor(t,n){this.kpuzzle=t;this.transformationData=n}toJSON(){return{experimentalPuzzleName:this.kpuzzle.name(),transformationData:this.transformationData}}invert(){return new r(this.kpuzzle,ee(this.kpuzzle,this.transformationData))}#e;isIdentityTransformation(){return this.#e??=this.isIdentical(this.kpuzzle.identityTransformation())}static experimentalConstructIdentity(t){let n=new r(t,be(t.definition));return n.#e=!0,n}isIdentical(t){return de(this.kpuzzle,this.transformationData,t.transformationData)}apply(t){return this.applyTransformation(this.kpuzzle.toTransformation(t))}applyTransformation(t){if(this.kpuzzle!==t.kpuzzle)throw new Error(`Tried to apply a transformation for a KPuzzle (${t.kpuzzle.name()}) to a different KPuzzle (${this.kpuzzle.name()}).`);return this.#e?new r(this.kpuzzle,t.transformationData):t.#e?new r(this.kpuzzle,this.transformationData):new r(this.kpuzzle,_(this.kpuzzle.definition,this.transformationData,t.transformationData))}applyMove(t){return this.applyTransformation(this.kpuzzle.moveToTransformation(t))}applyAlg(t){return this.applyTransformation(this.kpuzzle.algToTransformation(t))}toKPattern(){return E.fromTransformation(this)}repetitionOrder(){return De(this.kpuzzle.definition,this)}selfMultiply(t){return new r(this.kpuzzle,I(this.kpuzzle,this.transformationData,t))}};var P=class{constructor(t,n){this.definition=t;this.experimentalPGNotation=n?.experimentalPGNotation}experimentalPGNotation;#e;lookupOrbitDefinition(t){return this.#e||=(()=>{let n={};for(let i of this.definition.orbits)n[i.orbitName]=i;return n})(),this.#e[t]}name(){return this.definition.name}identityTransformation(){return k.experimentalConstructIdentity(this)}#t=new Map;moveToTransformation(t){typeof t=="string"&&(t=new v(t));let n=t.toString(),i=this.#t.get(n);if(i)return new k(this,i);if(this.experimentalPGNotation){let o=this.experimentalPGNotation.lookupMove(t);if(!o)throw new Error(`could not map to internal move: ${t}`);return this.#t.set(n,o),new k(this,o)}let e=ve(this,t);return this.#t.set(n,e),new k(this,e)}algToTransformation(t){return typeof t=="string"&&(t=new K(t)),Se(t,this)}toTransformation(t){return typeof t=="string"?this.algToTransformation(t):t?.is?.(K)?this.algToTransformation(t):t?.is?.(v)?this.moveToTransformation(t):t}defaultPattern(){return new E(this,this.definition.defaultPattern)}#i;canConvertDefaultPatternToUniqueTransformation(){return this.#i??=(()=>{for(let t of this.definition.orbits){let n=new Array(t.numPieces).fill(!1);for(let i of this.definition.defaultPattern[t.orbitName].pieces)n[i]=!0;for(let i of n)if(!i)return!1}return!0})()}};function tt(r,t,n,i,e){let s=r.orbits[t].pieces[n];if(s===null)return y;let a=s.facelets?.[i];return a===null?y:typeof a=="string"?a:e?a.hintMask??a.mask:(console.log(a),a.mask)}var T=class{stickerings=new Map;constructor(t,n){for(let i of t.definition.orbits)this.stickerings.set(i.orbitName,new Array(i.numPieces).fill(n))}},y="regular",x="ignored",R="oriented",it="experimentalOriented2",U="invisible",w="dim",nt={Regular:{facelets:[y,y,y,y,y]},Ignored:{facelets:[x,x,x,x,x]},OrientationStickers:{facelets:[R,R,R,R,R]},IgnoreNonPrimary:{facelets:[y,x,x,x,x]},Invisible:{facelets:[U,U,U,U,U]},PermuteNonPrimary:{facelets:[w,y,y,y,y]},Dim:{facelets:[w,w,w,w,w]},Ignoriented:{facelets:[w,x,x,x,x]},OrientationWithoutPermutation:{facelets:[R,x,x,x,x]},ExperimentalOrientationWithoutPermutation2:{facelets:[it,x,x,x,x]}};function Ee(r){return nt[r]}var C=class extends T{constructor(t){super(t,"Regular")}set(t,n){for(let[i,e]of this.stickerings.entries())for(let o=0;o<e.length;o++)t.stickerings.get(i)[o]&&(e[o]=n);return this}toStickeringMask(){let t={orbits:{}};for(let[n,i]of this.stickerings.entries()){let e=[],o={pieces:e};t.orbits[n]=o;for(let s of i)e.push(Ee(s))}return t}},A=class{constructor(t){this.kpuzzle=t}and(t){let n=new T(this.kpuzzle,!1);for(let i of this.kpuzzle.definition.orbits)e:for(let e=0;e<i.numPieces;e++){n.stickerings.get(i.orbitName)[e]=!0;for(let o of t)if(!o.stickerings.get(i.orbitName)[e]){n.stickerings.get(i.orbitName)[e]=!1;continue e}}return n}or(t){let n=new T(this.kpuzzle,!1);for(let i of this.kpuzzle.definition.orbits)e:for(let e=0;e<i.numPieces;e++){n.stickerings.get(i.orbitName)[e]=!1;for(let o of t)if(o.stickerings.get(i.orbitName)[e]){n.stickerings.get(i.orbitName)[e]=!0;continue e}}return n}not(t){let n=new T(this.kpuzzle,!1);for(let i of this.kpuzzle.definition.orbits)for(let e=0;e<i.numPieces;e++)n.stickerings.get(i.orbitName)[e]=!t.stickerings.get(i.orbitName)[e];return n}all(){return this.and(this.moves([]))}move(t){let n=this.kpuzzle.moveToTransformation(t),i=new T(this.kpuzzle,!1);for(let e of this.kpuzzle.definition.orbits)for(let o=0;o<e.numPieces;o++)(n.transformationData[e.orbitName].permutation[o]!==o||n.transformationData[e.orbitName].orientationDelta[o]!==0)&&(i.stickerings.get(e.orbitName)[o]=!0);return i}moves(t){return t.map(n=>this.move(n))}orbits(t){let n=new T(this.kpuzzle,!1);for(let i of t)n.stickerings.get(i).fill(!0);return n}orbitPrefix(t){let n=new T(this.kpuzzle,!1);for(let i of this.kpuzzle.definition.orbits)i.orbitName.startsWith(t)&&n.stickerings.get(i.orbitName).fill(!0);return n}};var Te="Last Layer",he="Last Slot",b={"3x3x3":Te,megaminx:Te},G={"3x3x3":he,megaminx:he},te={full:{groups:{"3x3x3":"Stickering",megaminx:"Stickering"}},OLL:{groups:b},PLL:{groups:b},LL:{groups:b},EOLL:{groups:b},COLL:{groups:b},OCLL:{groups:b},CPLL:{groups:b},CLL:{groups:b},EPLL:{groups:b},ELL:{groups:b},ZBLL:{groups:b},LS:{groups:G},ELS:{groups:G},CLS:{groups:G},ZBLS:{groups:G},VLS:{groups:G},WVLS:{groups:G},F2L:{groups:{"3x3x3":"CFOP (Fridrich)"}},Daisy:{groups:{"3x3x3":"CFOP (Fridrich)"}},Cross:{groups:{"3x3x3":"CFOP (Fridrich)"}},EO:{groups:{"3x3x3":"ZZ"}},EOline:{groups:{"3x3x3":"ZZ"}},EOcross:{groups:{"3x3x3":"ZZ"}},CMLL:{groups:{"3x3x3":"Roux"}},L10P:{groups:{"3x3x3":"Roux"}},L6E:{groups:{"3x3x3":"Roux"}},L6EO:{groups:{"3x3x3":"Roux"}},"2x2x2":{groups:{"3x3x3":"Petrus"}},"2x2x3":{groups:{"3x3x3":"Petrus"}},G1:{groups:{"3x3x3":"FMC"}},L2C:{groups:{"4x4x4":"Reduction","5x5x5":"Reduction","6x6x6":"Reduction"}},PBL:{groups:{"2x2x2":"Ortega"}},"Void Cube":{groups:{"3x3x3":"Miscellaneous"}},invisible:{groups:{"3x3x3":"Miscellaneous"}},picture:{groups:{"3x3x3":"Miscellaneous"}},"centers-only":{groups:{"3x3x3":"Miscellaneous"}},"experimental-centers-U":{},"experimental-centers-U-D":{},"experimental-centers-U-L-D":{},"experimental-centers-U-L-B-D":{},"experimental-centers":{},"experimental-fto-fc":{groups:{fto:"Bencisco"}},"experimental-fto-f2t":{groups:{fto:"Bencisco"}},"experimental-fto-sc":{groups:{fto:"Bencisco"}},"experimental-fto-l2c":{groups:{fto:"Bencisco"}},"experimental-fto-lbt":{groups:{fto:"Bencisco"}},"experimental-fto-l3t":{groups:{fto:"Bencisco"}}};async function h(r,t){let n=await r.kpuzzle(),i=new C(n),e=new A(n),o=()=>e.move("U"),s=()=>e.or(e.moves(["U","D"])),a=()=>e.or(e.moves(["L","R"])),m=()=>e.not(a()),u=()=>e.not(o()),z=()=>e.orbitPrefix("CENTER"),f=()=>e.orbitPrefix("EDGE"),l=()=>e.or([e.orbitPrefix("CORNER"),e.orbitPrefix("C4RNER"),e.orbitPrefix("C5RNER")]),S=()=>e.or([m(),e.and([o(),f()])]),p=()=>e.and([o(),z()]),L=()=>e.and([e.and(e.moves(["F","R"])),f()]),Z=()=>e.and([e.and(e.moves(["F","R"])),l(),e.not(o())]),q=()=>e.or([Z(),L()]);function d(){i.set(u(),"Dim")}function Ze(){i.set(o(),"PermuteNonPrimary"),i.set(p(),"Dim")}function F(){i.set(o(),"IgnoreNonPrimary"),i.set(p(),"Regular")}function Je(){i.set(o(),"Ignoriented"),i.set(p(),"Dim")}switch(t){case"full":break;case"PLL":{d(),Ze();break}case"CLS":{d(),i.set(Z(),"Regular"),i.set(o(),"Ignoriented"),i.set(e.and([o(),z()]),"Dim"),i.set(e.and([o(),l()]),"IgnoreNonPrimary");break}case"OLL":{d(),F();break}case"EOLL":{d(),F(),i.set(e.and([o(),l()]),"Ignored");break}case"COLL":{d(),i.set(e.and([o(),f()]),"Ignoriented"),i.set(e.and([o(),z()]),"Dim"),i.set(e.and([o(),l()]),"Regular");break}case"OCLL":{d(),Je(),i.set(e.and([o(),l()]),"IgnoreNonPrimary");break}case"CPLL":{d(),i.set(e.and([l(),o()]),"PermuteNonPrimary"),i.set(e.and([e.not(l()),o()]),"Dim");break}case"CLL":{d(),i.set(e.not(e.and([l(),o()])),"Dim");break}case"EPLL":{d(),i.set(o(),"Dim"),i.set(e.and([o(),f()]),"PermuteNonPrimary");break}case"ELL":{d(),i.set(o(),"Dim"),i.set(e.and([o(),f()]),"Regular");break}case"ELS":{d(),F(),i.set(e.and([o(),l()]),"Ignored"),i.set(L(),"Regular"),i.set(Z(),"Ignored");break}case"LL":{d();break}case"F2L":{i.set(o(),"Ignored");break}case"ZBLL":{d(),i.set(o(),"PermuteNonPrimary"),i.set(p(),"Dim"),i.set(e.and([o(),l()]),"Regular");break}case"ZBLS":{d(),i.set(q(),"Regular"),F(),i.set(e.and([o(),l()]),"Ignored");break}case"VLS":{d(),i.set(q(),"Regular"),F();break}case"WVLS":{d(),i.set(q(),"Regular"),i.set(e.and([o(),f()]),"Ignoriented"),i.set(e.and([o(),z()]),"Dim"),i.set(e.and([o(),l()]),"IgnoreNonPrimary");break}case"LS":{d(),i.set(q(),"Regular"),i.set(o(),"Ignored"),i.set(p(),"Dim");break}case"EO":{i.set(l(),"Ignored"),i.set(f(),"OrientationWithoutPermutation");break}case"EOline":{i.set(l(),"Ignored"),i.set(f(),"OrientationWithoutPermutation"),i.set(e.and(e.moves(["D","M"])),"Regular");break}case"EOcross":{i.set(f(),"OrientationWithoutPermutation"),i.set(e.move("D"),"Regular"),i.set(l(),"Ignored");break}case"CMLL":{i.set(u(),"Dim"),i.set(S(),"Ignored"),i.set(e.and([o(),l()]),"Regular");break}case"L10P":{i.set(e.not(S()),"Dim"),i.set(e.and([l(),o()]),"Regular");break}case"L6E":{i.set(e.not(S()),"Dim");break}case"L6EO":{i.set(e.not(S()),"Dim"),i.set(S(),"OrientationWithoutPermutation"),i.set(e.and([z(),s()]),"OrientationStickers");break}case"Daisy":{i.set(e.all(),"Ignored"),i.set(z(),"Dim"),i.set(e.and([e.move("D"),z()]),"Regular"),i.set(e.and([e.move("U"),f()]),"IgnoreNonPrimary");break}case"Cross":{i.set(e.all(),"Ignored"),i.set(z(),"Dim"),i.set(e.and([e.move("D"),z()]),"Regular"),i.set(e.and([e.move("D"),f()]),"Regular");break}case"2x2x2":{i.set(e.or(e.moves(["U","F","R"])),"Ignored"),i.set(e.and([e.or(e.moves(["U","F","R"])),z()]),"Dim");break}case"2x2x3":{i.set(e.all(),"Dim"),i.set(e.or(e.moves(["U","F","R"])),"Ignored"),i.set(e.and([e.or(e.moves(["U","F","R"])),z()]),"Dim"),i.set(e.and([e.move("F"),e.not(e.or(e.moves(["U","R"])))]),"Regular");break}case"G1":{i.set(e.all(),"ExperimentalOrientationWithoutPermutation2"),i.set(e.or(e.moves(["E"])),"OrientationWithoutPermutation"),i.set(e.and(e.moves(["E","S"])),"Ignored");break}case"L2C":{i.set(e.or(e.moves(["L","R","B","D"])),"Dim"),i.set(e.not(z()),"Ignored");break}case"PBL":{i.set(e.all(),"Ignored"),i.set(e.or(e.moves(["U","D"])),"PermuteNonPrimary");break}case"Void Cube":{i.set(z(),"Invisible");break}case"picture":case"invisible":{i.set(e.all(),"Invisible");break}case"centers-only":{i.set(e.not(z()),"Ignored");break}default:console.warn(`Unsupported stickering for ${r.id}: ${t}. Setting all pieces to dim.`),i.set(e.and(e.moves([])),"Dim")}return i.toStickeringMask()}async function N(r,t){let n=[],i=[];for(let[e,o]of Object.entries(te))o.groups&&(r in o.groups?n.push(e):t?.use3x3x3Fallbacks&&"3x3x3"in o.groups&&i.push(e));return n.concat(i)}function c(r){let t=null;return()=>t??=r()}var W=class r extends Promise{constructor(t){super(n=>{n()}),this._executor=t}static from(t){return new r(n=>{n(t())})}static resolve(t){return new r(n=>{n(t)})}static reject(t){return new r((n,i)=>{i(t)})}then(t,n){return this._promise=this._promise||new Promise(this._executor),this._promise.then(t,n)}catch(t){return this._promise=this._promise||new Promise(this._executor),this._promise.catch(t)}};function Le(r){return new W(t=>{t(r())})}async function V(r){return(await import("./puzzle-geometry-37DOBR3B.js")).getPuzzleGeometryByName(r,{allMoves:!0,orientCenters:!0,addRotations:!0})}async function ie(r,t){let n=await r,i=n.getKPuzzleDefinition(!0);i.name=t;let e=await import("./puzzle-geometry-37DOBR3B.js"),o=new e.ExperimentalPGNotation(n,n.getOrbitsDef(!0));return new P(o.remapKPuzzleDefinition(i),{experimentalPGNotation:o})}var D=class{pgId;id;fullName;inventedBy;inventionYear;constructor(t){this.pgId=t.pgID,this.id=t.id,this.fullName=t.fullName,this.inventedBy=t.inventedBy,this.inventionYear=t.inventionYear}#e;pg(){return this.#e??=V(this.pgId??this.id)}#t;kpuzzle(){return this.#t??=ie(this.pg(),this.id)}#i;svg(){return this.#i??=(async()=>(await this.pg()).generatesvg())()}puzzleSpecificSimplifyOptionsPromise=ne(this.kpuzzle.bind(this))},O=class extends D{stickeringMask(t){return h(this,t)}stickerings=()=>N(this.id,{use3x3x3Fallbacks:!0})};function ne(r){return new W(async t=>{let n=await r();t({quantumMoveOrder:i=>n.moveToTransformation(new v(i)).repetitionOrder()})})}var re={name:"3x3x3",orbits:[{orbitName:"EDGES",numPieces:12,numOrientations:2},{orbitName:"CORNERS",numPieces:8,numOrientations:3},{orbitName:"CENTERS",numPieces:6,numOrientations:4}],defaultPattern:{EDGES:{pieces:[0,1,2,3,4,5,6,7,8,9,10,11],orientation:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{pieces:[0,1,2,3,4,5,6,7],orientation:[0,0,0,0,0,0,0,0]},CENTERS:{pieces:[0,1,2,3,4,5],orientation:[0,0,0,0,0,0],orientationMod:[1,1,1,1,1,1]}},moves:{U:{EDGES:{permutation:[1,2,3,0,4,5,6,7,8,9,10,11],orientationDelta:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{permutation:[1,2,3,0,4,5,6,7],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[1,0,0,0,0,0]}},y:{EDGES:{permutation:[1,2,3,0,5,6,7,4,10,8,11,9],orientationDelta:[0,0,0,0,0,0,0,0,1,1,1,1]},CORNERS:{permutation:[1,2,3,0,7,4,5,6],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,2,3,4,1,5],orientationDelta:[1,0,0,0,0,3]}},x:{EDGES:{permutation:[4,8,0,9,6,10,2,11,5,7,1,3],orientationDelta:[1,0,1,0,1,0,1,0,0,0,0,0]},CORNERS:{permutation:[4,0,3,5,7,6,2,1],orientationDelta:[2,1,2,1,1,2,1,2]},CENTERS:{permutation:[2,1,5,3,0,4],orientationDelta:[0,3,0,1,2,2]}},L:{EDGES:{permutation:[0,1,2,11,4,5,6,9,8,3,10,7],orientationDelta:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{permutation:[0,1,6,2,4,3,5,7],orientationDelta:[0,0,2,1,0,2,1,0]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[0,1,0,0,0,0]}},F:{EDGES:{permutation:[9,1,2,3,8,5,6,7,0,4,10,11],orientationDelta:[1,0,0,0,1,0,0,0,1,1,0,0]},CORNERS:{permutation:[3,1,2,5,0,4,6,7],orientationDelta:[1,0,0,2,2,1,0,0]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[0,0,1,0,0,0]}},R:{EDGES:{permutation:[0,8,2,3,4,10,6,7,5,9,1,11],orientationDelta:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{permutation:[4,0,2,3,7,5,6,1],orientationDelta:[2,1,0,0,1,0,0,2]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[0,0,0,1,0,0]}},B:{EDGES:{permutation:[0,1,10,3,4,5,11,7,8,9,6,2],orientationDelta:[0,0,1,0,0,0,1,0,0,0,1,1]},CORNERS:{permutation:[0,7,1,3,4,5,2,6],orientationDelta:[0,2,1,0,0,0,2,1]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[0,0,0,0,1,0]}},D:{EDGES:{permutation:[0,1,2,3,7,4,5,6,8,9,10,11],orientationDelta:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{permutation:[0,1,2,3,5,6,7,4],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,1,2,3,4,5],orientationDelta:[0,0,0,0,0,1]}},z:{EDGES:{permutation:[9,3,11,7,8,1,10,5,0,4,2,6],orientationDelta:[1,1,1,1,1,1,1,1,1,1,1,1]},CORNERS:{permutation:[3,2,6,5,0,4,7,1],orientationDelta:[1,2,1,2,2,1,2,1]},CENTERS:{permutation:[1,5,2,0,4,3],orientationDelta:[1,1,1,1,3,1]}},M:{EDGES:{permutation:[2,1,6,3,0,5,4,7,8,9,10,11],orientationDelta:[1,0,1,0,1,0,1,0,0,0,0,0]},CORNERS:{permutation:[0,1,2,3,4,5,6,7],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[4,1,0,3,5,2],orientationDelta:[2,0,0,0,2,0]}},E:{EDGES:{permutation:[0,1,2,3,4,5,6,7,9,11,8,10],orientationDelta:[0,0,0,0,0,0,0,0,1,1,1,1]},CORNERS:{permutation:[0,1,2,3,4,5,6,7],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,4,1,2,3,5],orientationDelta:[0,0,0,0,0,0]}},S:{EDGES:{permutation:[0,3,2,7,4,1,6,5,8,9,10,11],orientationDelta:[0,1,0,1,0,1,0,1,0,0,0,0]},CORNERS:{permutation:[0,1,2,3,4,5,6,7],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[1,5,2,0,4,3],orientationDelta:[1,1,0,1,0,1]}},u:{EDGES:{permutation:[1,2,3,0,4,5,6,7,10,8,11,9],orientationDelta:[0,0,0,0,0,0,0,0,1,1,1,1]},CORNERS:{permutation:[1,2,3,0,4,5,6,7],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,2,3,4,1,5],orientationDelta:[1,0,0,0,0,0]}},l:{EDGES:{permutation:[2,1,6,11,0,5,4,9,8,3,10,7],orientationDelta:[1,0,1,0,1,0,1,0,0,0,0,0]},CORNERS:{permutation:[0,1,6,2,4,3,5,7],orientationDelta:[0,0,2,1,0,2,1,0]},CENTERS:{permutation:[4,1,0,3,5,2],orientationDelta:[2,1,0,0,2,0]}},f:{EDGES:{permutation:[9,3,2,7,8,1,6,5,0,4,10,11],orientationDelta:[1,1,0,1,1,1,0,1,1,1,0,0]},CORNERS:{permutation:[3,1,2,5,0,4,6,7],orientationDelta:[1,0,0,2,2,1,0,0]},CENTERS:{permutation:[1,5,2,0,4,3],orientationDelta:[1,1,1,1,0,1]}},r:{EDGES:{permutation:[4,8,0,3,6,10,2,7,5,9,1,11],orientationDelta:[1,0,1,0,1,0,1,0,0,0,0,0]},CORNERS:{permutation:[4,0,2,3,7,5,6,1],orientationDelta:[2,1,0,0,1,0,0,2]},CENTERS:{permutation:[2,1,5,3,0,4],orientationDelta:[0,0,0,1,2,2]}},b:{EDGES:{permutation:[0,5,10,1,4,7,11,3,8,9,6,2],orientationDelta:[0,1,1,1,0,1,1,1,0,0,1,1]},CORNERS:{permutation:[0,7,1,3,4,5,2,6],orientationDelta:[0,2,1,0,0,0,2,1]},CENTERS:{permutation:[3,0,2,5,4,1],orientationDelta:[3,3,0,3,1,3]}},d:{EDGES:{permutation:[0,1,2,3,7,4,5,6,9,11,8,10],orientationDelta:[0,0,0,0,0,0,0,0,1,1,1,1]},CORNERS:{permutation:[0,1,2,3,5,6,7,4],orientationDelta:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,4,1,2,3,5],orientationDelta:[0,0,0,0,0,1]}}},derivedMoves:{Uw:"u",Lw:"l",Fw:"f",Rw:"r",Bw:"b",Dw:"d",Uv:"y",Lv:"x'",Fv:"z",Rv:"x",Bv:"z'",Dv:"y'","2U":"u U'","2L":"l L'","2F":"f F'","2R":"r R'","2B":"b B'","2D":"d D'"}};function oe(r){let t=r.patternData.CENTERS.pieces[0],n=r.patternData.CENTERS.pieces[5],i=r.patternData.CENTERS.pieces[1],e=i;return t<i&&e--,n<i&&e--,[t,e]}var Ie=new Array(6).fill(0).map(()=>new Array(6)),rt=!1;function Ne(){if(!rt){let r=["","z","x","z'","x'","x2"].map(n=>K.fromString(n)),t=new K("y");for(let n of r){let i=j.algToTransformation(n);for(let e=0;e<4;e++){i=i.applyAlg(t);let[o,s]=oe(i.toKPattern());Ie[o][s]=i.invert()}}}return Ie}function Ke(r){let[t,n]=oe(r),i=Ne()[t][n];return r.applyTransformation(i)}function ae(r,t){return t.ignorePuzzleOrientation&&(r=Ke(r)),t.ignoreCenterOrientation&&(r=new E(r.kpuzzle,{EDGES:r.patternData.EDGES,CORNERS:r.patternData.CORNERS,CENTERS:{pieces:r.patternData.CENTERS.pieces,orientation:new Array(6).fill(0)}})),!!r.experimentalToTransformation()?.isIdentityTransformation()}async function ot(r){let t=await(r.puzzleSpecificSimplifyOptions??r.puzzleSpecificSimplifyOptionsPromise);return t?{puzzleLoader:{puzzleSpecificSimplifyOptions:t}}:{}}var di=new Array(24);async function X(r,t){return(await import("./puzzle-geometry-37DOBR3B.js")).getPuzzleGeometryByDesc(r,{allMoves:!0,orientCenters:!0,addRotations:!0,...t})}async function se(r,t){let n=X(r,t);return ie(n,`description: ${r}`)}var at=1;function st(r,t){let n=at++,i=null,e=async()=>i??=se(r),o={id:`custom-${n}`,fullName:t?.fullName??`Custom Puzzle (instance #${n})`,kpuzzle:e,svg:async()=>(await X(r)).generatesvg(),pg:async()=>X(r),puzzleSpecificSimplifyOptionsPromise:ne(e)};return t?.inventedBy&&(o.inventedBy=t.inventedBy),t?.inventionYear&&(o.inventionYear=t.inventionYear),o}var j=new P(re);re.experimentalIsPatternSolved=ae;function g(r,t,n,i){let e=[];for(let o of r){let s=v.fromString(o),{family:a,amount:m}=s;if(![-1,1].includes(m))throw new Error("Invalid config move");e.push({family:a,direction:m,type:t,from:n,to:i})}return e}var M={"x axis":{sliceDiameter:3,extendsThroughEntirePuzzle:!0,moveSourceInfos:[...g(["R"],0,0,3),...g(["L'"],1,0,3),...g(["r","Rw"],2,0,2),...g(["l'","Lw'"],3,0,2),...g(["M'"],4,1,2),...g(["x","Uv","Dv'"],5,0,3)]},"y axis":{sliceDiameter:3,extendsThroughEntirePuzzle:!0,moveSourceInfos:[...g(["U"],0,0,3),...g(["D'"],1,0,3),...g(["u","Uw"],2,0,2),...g(["d'","Dw'"],3,0,2),...g(["E'"],4,1,2),...g(["y","Uv","Dv'"],5,0,3)]},"z axis":{sliceDiameter:3,extendsThroughEntirePuzzle:!0,moveSourceInfos:[...g(["F"],0,0,3),...g(["B'"],1,0,3),...g(["f","Fw"],2,0,3),...g(["b'","Bw'"],3,0,3),...g(["S"],4,1,2),...g(["z","Fv","Bv'"],5,0,3)]}},Y={};for(let[r,t]of Object.entries(M))for(let n of t.moveSourceInfos)Y[n.family]={axis:r,moveSourceInfo:n};var Me={};for(let r of Object.keys(M)){let t={};Me[r]=t;for(let n of M[r].moveSourceInfos)(t[n.type]??=[]).push(n)}var Re={};for(let r of Object.keys(M)){let t=new Map;Re[r]=t;for(let n of M[r].moveSourceInfos)t.get(n.from)||t.set(n.from,n)}function we(r,t){let n=Me[r][t]?.[0];if(!n)throw new Error(`Could not find a reference move (axis: ${r}, move source type: ${t})`);return n}var mt=(r,t)=>Y[r.family].axis===Y[t.family].axis;function lt(r,t,n,i){if(t+1===n){let l=Re[r].get(t);if(l)return new v(new $(l.family),i*l.direction)}let e=M[r],{sliceDiameter:o}=e;if(t===0&&n===o){let l=we(r,5);return new v(new $(l.family),i*l.direction)}let s=t+n>o;s&&([t,n]=[o-n,o-t]);let a=t+1,m=n,u=a===m;u&&(m=null),a===1&&(a=null),u&&a===1&&(m=null),!u&&m===2&&(m=null);let f=we(r,u?s?1:0:s?3:2);return new v(new $(f.family,m,a),i*f.direction)}function ut(r,t=!0){if(r.length===0)return[];let n=Y[r[0].family].axis,i=M[n],{sliceDiameter:e}=i,o=new Map,s=null;function a(l,S){let p=(o.get(l)??0)+S;t&&(p=p%4+5%4-1),p===0?o.delete(l):o.set(l,p)}let m=0;for(let l of Array.from(r).reverse()){m++;let{moveSourceInfo:S}=Y[l.family],p=l.amount*S.direction;switch(S.type){case 0:{let L=(l.innerLayer??1)-1;a(L,p),a(L+1,-p);break}case 1:{let L=e-(l.innerLayer??1);a(L,p),a(L+1,-p);break}case 2:{a((l.outerLayer??1)-1,p),a(l.innerLayer??2,-p);break}case 3:{a(e-(l.innerLayer??2),p),a(e-((l.outerLayer??1)-1),-p);break}case 4:{a(S.from,p),a(S.to,-p);break}case 5:{a(0,p),a(e,-p);break}}[0,2].includes(o.size)&&(s={suffixLength:m,sliceDeltas:new Map(o)})}if(o.size===0)return[];if(!s)return r;let[u,z]=s.sliceDeltas.keys();u>z&&([u,z]=[z,u]);let f=s.sliceDeltas.get(u);return[...r.slice(0,-s.suffixLength),...f!==0?[lt(n,u,z,f)]:[]]}var Ce={quantumMoveOrder:()=>4,axis:{areQuantumMovesSameAxis:mt,simplifySameAxisMoves:ut}};var me={id:"3x3x3",fullName:"3\xD73\xD73 Cube",inventedBy:["Ern\u0151 Rubik"],inventionYear:1974,kpuzzle:c(async()=>j),svg:c(async()=>(await import("./puzzles-dynamic-3x3x3-I5VTL7SQ.js")).cube3x3x3SVG),llSVG:c(async()=>(await import("./puzzles-dynamic-3x3x3-I5VTL7SQ.js")).cube3x3x3LLSVG),pg:c(async()=>V("3x3x3")),stickeringMask:r=>h(me,r),stickerings:()=>N("3x3x3"),puzzleSpecificSimplifyOptions:Ce};var Ae={333:{puzzleID:"3x3x3",eventName:"3x3x3 Cube"},222:{puzzleID:"2x2x2",eventName:"2x2x2 Cube"},444:{puzzleID:"4x4x4",eventName:"4x4x4 Cube"},555:{puzzleID:"5x5x5",eventName:"5x5x5 Cube"},666:{puzzleID:"6x6x6",eventName:"6x6x6 Cube"},777:{puzzleID:"7x7x7",eventName:"7x7x7 Cube"},"333bf":{puzzleID:"3x3x3",eventName:"3x3x3 Blindfolded"},"333fm":{puzzleID:"3x3x3",eventName:"3x3x3 Fewest Moves"},"333oh":{puzzleID:"3x3x3",eventName:"3x3x3 One-Handed"},clock:{puzzleID:"clock",eventName:"Clock"},minx:{puzzleID:"megaminx",eventName:"Megaminx"},pyram:{puzzleID:"pyraminx",eventName:"Pyraminx"},skewb:{puzzleID:"skewb",eventName:"Skewb"},sq1:{puzzleID:"square1",eventName:"Square-1"},"444bf":{puzzleID:"4x4x4",eventName:"4x4x4 Blindfolded"},"555bf":{puzzleID:"5x5x5",eventName:"5x5x5 Blindfolded"},"333mb":{puzzleID:"3x3x3",eventName:"3x3x3 Multi-Blind"}};var ct={...Ae,fto:{puzzleID:"fto",eventName:"Face-Turning Octahedron"},master_tetraminx:{puzzleID:"master_tetraminx",eventName:"Master Tetraminx"},kilominx:{puzzleID:"kilominx",eventName:"Kilominx"},redi_cube:{puzzleID:"redi_cube",eventName:"Redi Cube"}};var le={id:"2x2x2",fullName:"2\xD72\xD72 Cube",kpuzzle:c(async()=>new P((await import("./puzzles-dynamic-side-events-A3TQ6TLI.js")).cube2x2x2JSON)),svg:async()=>(await import("./puzzles-dynamic-side-events-A3TQ6TLI.js")).cube2x2x2SVG,llSVG:c(async()=>(await import("./puzzles-dynamic-side-events-A3TQ6TLI.js")).cube2x2x2LLSVG),pg:c(async()=>V("2x2x2")),stickeringMask:r=>h(le,r),stickerings:()=>N("2x2x2",{use3x3x3Fallbacks:!0})};var Ge={id:"clock",fullName:"Clock",inventedBy:["Christopher C. Wiggs","Christopher J. Taylor"],inventionYear:1988,kpuzzle:c(async()=>new P((await import("./puzzles-dynamic-side-events-A3TQ6TLI.js")).clockJSON)),svg:c(async()=>(await import("./puzzles-dynamic-side-events-A3TQ6TLI.js")).clockSVG)};async function Fe(r,t){let n=await r.kpuzzle(),i=new C(n),e=new A(n),o=()=>e.and([e.move("U"),e.not(e.or(e.moves(["F","BL","BR"])))]),s=()=>e.and([e.move("U"),e.not(e.move("F"))]),a=()=>e.or([s(),e.and([e.move("F"),e.not(e.or(e.moves(["U","BL","BR"])))])]),m=()=>e.not(e.or([e.and([e.move("U"),e.move("F")]),e.and([e.move("F"),e.move("BL")]),e.and([e.move("F"),e.move("BR")]),e.and([e.move("BL"),e.move("BR")])])),u=()=>e.not(e.or([e.and([e.move("F"),e.move("BL")]),e.and([e.move("F"),e.move("BR")]),e.and([e.move("BL"),e.move("BR")])]));switch(t){case"full":break;case"experimental-fto-fc":{i.set(e.not(o()),"Ignored");break}case"experimental-fto-f2t":{i.set(e.not(s()),"Ignored"),i.set(o(),"Dim");break}case"experimental-fto-sc":{i.set(e.not(a()),"Ignored"),i.set(s(),"Dim");break}case"experimental-fto-l2c":{i.set(e.not(m()),"Ignored"),i.set(a(),"Dim");break}case"experimental-fto-lbt":{i.set(e.not(u()),"Ignored"),i.set(m(),"Dim");break}case"experimental-fto-l3t":{i.set(u(),"Dim");break}default:console.warn(`Unsupported stickering for ${r.id}: ${t}. Setting all pieces to dim.`),i.set(e.and(e.moves([])),"Dim")}return i.toStickeringMask()}async function Be(){return["full","experimental-fto-fc","experimental-fto-f2t","experimental-fto-sc","experimental-fto-l2c","experimental-fto-lbt","experimental-fto-l3t"]}var ue=class extends D{constructor(){super({pgID:"FTO",id:"fto",fullName:"Face-Turning Octahedron",inventedBy:["Karl Rohrbach","David Pitcher"],inventionYear:1983})}stickeringMask(t){return Fe(this,t)}stickerings=Be;svg=c(async()=>(await import("./puzzles-dynamic-unofficial-LMCQKUSK.js")).ftoSVG)},_e=new ue;async function Ue(r,t){return(await ce()).includes(t)?h(r,t):(console.warn(`Unsupported stickering for ${r.id}: ${t}. Setting all pieces to dim.`),h(r,"full"))}var pt=Le(()=>N("megaminx"));function ce(){return pt}var pe=class extends D{constructor(){super({id:"megaminx",fullName:"Megaminx",inventionYear:1981})}stickeringMask(t){return Ue(this,t)}stickerings=ce;llSVG=c(async()=>(await import("./puzzles-dynamic-megaminx-EA2VDIC3.js")).megaminxLLSVG)},We=new pe;var fe=class extends D{constructor(){super({id:"pyraminx",fullName:"Pyraminx",inventedBy:["Uwe Meffert"]})}svg=c(async()=>(await import("./puzzles-dynamic-side-events-A3TQ6TLI.js")).pyraminxSVG)},Ve=new fe;var Xe={id:"square1",fullName:"Square-1",inventedBy:["Karel Hr\u0161el","Vojtech Kopsk\xFD"],inventionYear:1990,kpuzzle:c(async()=>new P((await import("./puzzles-dynamic-side-events-A3TQ6TLI.js")).sq1HyperOrbitJSON)),svg:c(async()=>(await import("./puzzles-dynamic-side-events-A3TQ6TLI.js")).sq1HyperOrbitSVG)};var Ye="d f 0.56",qe={id:"kilominx",fullName:"Kilominx",kpuzzle:c(()=>se(Ye,{includeCenterOrbits:!1,includeEdgeOrbits:!1})),pg:()=>X(Ye,{includeCenterOrbits:!1,includeEdgeOrbits:!1}),svg:c(async()=>(await import("./puzzles-dynamic-unofficial-LMCQKUSK.js")).kilominxSVG)};var $e={id:"redi_cube",fullName:"Redi Cube",inventedBy:["Oskar van Deventer"],inventionYear:2009,kpuzzle:c(async()=>new P((await import("./puzzles-dynamic-unofficial-LMCQKUSK.js")).rediCubeJSON)),svg:async()=>(await import("./puzzles-dynamic-unofficial-LMCQKUSK.js")).rediCubeSVG};var ze=new O({id:"4x4x4",fullName:"4\xD74\xD74 Cube"});ze.llSVG=c(async()=>(await import("./puzzles-dynamic-4x4x4-7OWDATEK.js")).cube4x4x4LLSVG);var je={id:"melindas2x2x2x2",fullName:"Melinda's 2\xD72\xD72\xD72",inventedBy:["Melinda Green"],kpuzzle:c(async()=>new P((await import("./puzzles-dynamic-side-events-A3TQ6TLI.js")).melindas2x2x2x2OrbitJSON)),svg:c(async()=>(await import("./puzzles-dynamic-side-events-A3TQ6TLI.js")).melindas2x2x2x2OrbitSVG)};var qn={"3x3x3":me,"2x2x2":le,"4x4x4":ze,"5x5x5":new O({id:"5x5x5",fullName:"5\xD75\xD75 Cube"}),"6x6x6":new O({id:"6x6x6",fullName:"6\xD76\xD76 Cube"}),"7x7x7":new O({id:"7x7x7",fullName:"7\xD77\xD77 Cube"}),"40x40x40":new O({id:"40x40x40",fullName:"40\xD740\xD740 Cube"}),clock:Ge,megaminx:We,pyraminx:Ve,skewb:new D({id:"skewb",fullName:"Skewb",inventedBy:["Tony Durham"]}),square1:Xe,fto:_e,gigaminx:new D({id:"gigaminx",fullName:"Gigaminx",inventedBy:["Tyler Fox"],inventionYear:2006}),master_tetraminx:new D({pgID:"master tetraminx",id:"master_tetraminx",fullName:"Master Tetraminx",inventedBy:["Katsuhiko Okamoto"],inventionYear:2002}),kilominx:qe,redi_cube:$e,melindas2x2x2x2:je};export{E as a,k as b,P as c,tt as d,Ee as e,te as f,Le as g,le as h,re as i,Ne as j,ot as k,st as l,j as m,me as n,qn as o};
//# sourceMappingURL=chunk-6QGFZL3G.js.map
